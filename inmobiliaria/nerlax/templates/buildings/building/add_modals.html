<form method="post" action="">
    {% csrf_token %}
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Supplier</h2>
                <button type="button" class="btn-close"
                        data-dismiss="modal"
                        aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table class="table table-striped">
                    <thead>
                    <tr>
                        <th class="active">
                            <input type="checkbox" class="select-all checkbox" name="select-all" />
                        </th>
                        <th class="cell100 column2">Name</th>
                        <th class="cell100 column2">Address</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for item in supplier %}
                    <tr class="row100 body">
                        <td class="active">
                            <input type="checkbox" class="select-item checkbox" name="select-item" />
                        </td>
                        <td class="cell100 column2">{{ item.name }}</td>
                        <td class="cell100 column2">{{ item.address }}</td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="7" class="text-center bg-warning">Click to
                            create a new
                            supplier.
                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>

            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Add</button>
                <button type="button" class="btn btn-secondary"
                        data-dismiss="modal">Close
                </button>
            </div>
        </div>
    </div>
</form>

{% block extrajs %}
<script type="text/javascript">
    $(function(){
        //button select all or cancel
        $("#select-all").click(function () {
            var all = $("input.select-all")[0];
            all.checked = !all.checked
            var checked = all.checked;
            $("input.select-item").each(function (index,item) {
                item.checked = checked;
            });
        });
        //column checkbox select all or cancel
        $("input.select-all").click(function () {
            var checked = this.checked;
            $("input.select-item").each(function (index,item) {
                item.checked = checked;
            });
        });
        //check selected items
        $("input.select-item").click(function () {
            var checked = this.checked;
            var all = $("input.select-all")[0];
            var total = $("input.select-item").length;
            var len = $("input.select-item:checked:checked").length;
            all.checked = len===total;
        });

    });
</script>
{% endblock extrajs %}
